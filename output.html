<div class="b-data__bg" style="background-image: url('https://www.irozhlas.cz/sites/default/files/styles/zpravy_snowfall/public/uploader/xxx_200116-014445_jab.png?itok=tlUPKHSW');">
	<span class="b-data__caption">
		
	</span>
</div>

<header class="b-data__header">
	<div class="row-main">
		<h1 class="b-data__title">
			<strong id="snfl-title-div">
				<!--[[ZPRAVY_TITLE:]]-->
			</strong>
		</h1>

		<script>
			if (window.location.href.indexOf("www.irozhlas") < 0) {
				document.getElementById("snfl-title-div").innerHTML = "Hlasování v Senátu: jak se přelévají koalice a kdo jsou renegáti svých stran?";
			}
		</script>

		<p class="meta meta--lg">
			<!--[[ZPRAVY_SNOWFALL_AUTHORS:]]-->
			<span class="meta__separator">|</span>
			<time>
					<!--[[ZPRAVY_DATE_PUBLICATION: j. n. Y]]-->
			</time>
		</p>  

		<p>
			<a href="#content" class="b-data__link js-scroll-to">
				Čtěte dále
				<span class="b-data__link-icon">
					<span class="icon-svg icon-svg--arrow-down">
						<svg class="icon-svg__svg" xmlns:xlink="http://www.w3.org/1999/xlink">
							<use xlink:href="/sites/all/themes/custom/irozhlas/img/bg/icons-svg.svg#icon-arrow-down" x="0" y="0" width="100%" height="100%"></use>
						</svg>
					</span>
				</span>
			</a>
		</p>
	</div>
</header> 

<div class="b-data__content" id="content">
	<script src="https://code.jquery.com/jquery-1.11.3.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>

	<style>ol.snowfall,ul.snowfall{list-style:initial!important;font-size:medium!important;line-height:1.5!important}ol.snowfall>li,ul.snowfall>li{background:0 0!important;margin:0!important;padding:0!important}hr.snowfall{max-width:none!important}div.tooltip{position:absolute;text-align:center;font:12px sans-serif;width:300px;height:160px;padding:5px;background:#fff;border-width:1px;border-color:#000;border-style:solid;pointer-events:none}svg{shape-rendering:crispEdges}.ttheader{font:14px sans-serif}.ttcajk{font:14px sans-serif;font-weight:700;color:green;padding-top:5px;padding-bottom:5px}.ttnecajk{font:14px sans-serif;font-weight:700;color:red;padding-top:5px;padding-bottom:5px}.ttborcus{font:14px sans-serif;font-weight:700;color:orange;padding-top:5px;padding-bottom:5px}.ttvotes{font:12px sans-serif;padding-top:5px}.title{font:16px sans-serif;font-weight:700}</style>

	<div class="row-main row-main--narrow">
		<p class="text-bold text-lg">
			U běžných hlasování Senátu vládne koalice KDU-ČSL, STAN a hnutí Senátor 21. Když ale dojde na jádro pudla, dokáže si ANO hlasování ohlídat. Umožňují mu to i Starostové svou nejednotností.
		</p>
		<p>Jiří Čunek (KDU-ČSL), Jiří Dienstbier (ČSSD), Ivo Valenta (ODS) nebo Jaroslav Zeman (STAN): to jsou senátoři, kteří často volí jinak než jejich klub.</p>
</div><div class="row-main row-main--article"><div><img src="https://dev.datarozhlas.cz/senat-kdoskym/grafy/kdoskym2000.png" style="width:100%"></div></div><div class="row-main row-main--narrow">

</div><div class="row-main row-main--article"><div><img src="https://dev.datarozhlas.cz/senat-kdoskym/grafy/legenda.png" style="width:80%"></div></div><div class="row-main row-main--narrow">

<p>Ukázala to data ze všech 589 hlasování v aktuálním senátním období, tedy od podzimu 2018 do dneška. <a href="https://en.wikipedia.org/wiki/Force-directed_graph_drawing">Fyzikální model</a> umístí pravidelné spojence při hlasování na plátně blíž k sobě, a naopak: ty, kdo často hlasují odlišně, odsune také v grafu. Vazby mezi dvojicemi senátorů s osmdesátiprocentní a vyšší shodou jsou znázorněny viditelně, slabší shodu kvůli přehlednosti grafu neukazujeme. Silnější linka znamená shodu výrazně nad osmdesát procent.</p>
<p>„Dá se na tom dobře ukázat disciplína, soudržnost, jednotlivých senátních klubů – pokud by byli hodně blízko u sebe, jsou ideologicky semknutí,“ vysvětluje politolog Roman Chytilek z Fakulty sociálních studií Masarykovy univerzity.</p>
<p>„To, že vidíme ‚hnízdo‘ obsazené více barvami, možná naznačuje, že vzniká blok stran a nezávislých senátorů, kteří hlasují shodně,“ pokračuje. „V momentu, kdy nějaký senátor leží daleko, můžeme vyvodit, že často hlasuje v rozporu se svým klubem.“</p>
<p>Za shodu dvou senátorů považujeme takové hlasování, kdy oba odpověděli buď <em>ano</em>, nebo oba nesouhlasili, ať už přímo odpovědí <em>ne</em>, nebo zdržením se: obojí fakticky znamená odmítnutí. Hlasování, na kterých senátor chyběl, nemají na jeho shodu s ostatními vliv. Detailní pohled na hlasovací shodu libovolných dvou senátorů nabízí <a href="https://dev.datarozhlas.cz/senat-kdoskym/data/senat-matice-vztahu.csv">tabulka vztahů</a>.</p>
<p>Během volebního období se odehrály změny v obsazení Senátu: hned v lednu 2019 nahradil senátorku Zuzanu Baudyšovou z ANO, která <a href="https://www.irozhlas.cz/zpravy-domov/senatorka-zuzana-baudysova-rezignace-praha-9-duvod_1901291148_ako">rezignovala ze zdravotních důvodů</a>, David Smoljak ze STAN. Druhou změnou je „přebarvení“ Jiřího Cieńciały. Ten byl zvolen ve Frýdku-Místku jako nezávislý kandidát, dnes je součástí senátorského klubu ANO. V grafu má nicméně původní barvu nezařazeného kandidáta.</p>
<p>První pohled na graf odhalí právě zmíněné renegáty. Že nejde o názorové rozdíly jen na papíře, odhaluje také aktuální spor uvnitř sociální demokracie. Ve <a href="https://www.irozhlas.cz/zpravy-domov/helena-valkova-volba-ombudsmana-kolovratnik-valachova-prezident-zeman_2001131742_jgr">sporu o budoucího ombudsmana</a> v něm proti sobě stojí šéf ČSSD Jan Hamáček a senátor Jiří Dienstbier.</p>
<p>„Data o hlasování potvrzují, že politici typu Jiřího Čunka nebo Jiřího Dienstbiera mají ve vlastní politické straně specifické postavení,“ upozorňuje Kamil Švec, politolog Fakulty sociálních věd Univerzity Karlovy a analytik České televize. „Dienstbierova pozice v rámci sociální demokracie je trochu menšinová, zastává liberální postoje, které v té straně nejsou mainstreamové. Takže tím se odlišuje ve všech svých vystoupení a jak je vidět, projevuje se to i v hlasování.“</p>
<p>„Podobně vybočuje také například Miroslav Antl, to taky není typický sociální demokrat,“ pokračuje Švec. „Je to předseda ústavněprávního výboru, bývalý státní zástupce, evidentně do toho klubu nepatří. Nebo Ivo Valenta, který je v klubu ODS spíše proto, aby byl někam zařazen, ale svým založením to občanský demokrat není.“</p>
<p>Graf ukazuje, že určující silou pro senátní hlasování je koalice mezi křesťanskými demokraty, starosty a členy Klubu pro liberální demokracii. Dohromady ovládají kolem poloviny senátních křesel, obvykle s nimi hlasuje také nezařazený senátor Pavel Fischer. Toto uskupení se pak snaží „gravitačně roztrhat“ semknutý klub občanských demokratů s nezávislou Jitkou Chalánkovou i rozvolněná vládní koalice ANO se sociálními demokraty.</p>
<p>„V roce 2020 v Senátu převládá středopravicové vidění světa, protože výrazné zastoupení má lidová strana, která je v pravém středu,“ komentuje náladu v Senátu politolog Kamil Švec. „Silný klub mají také Starostové a nezávislí, kteří se prezentují jako středová, liberální a doprava směřující uskupení. Pak je tam silný klub ODS, která má i předsedu Senátu. Takže pravice jasně dominuje.“</p>
<p>„Vzhledem k tomu, že voliči levice k senátním volbám příliš nechodí, bývá pravostředová orientace typická,“ vysvětluje důvody pro pravicovou přesilu politolog Jan Kysela z Právnické fakulty Univerzity Karlovy.</p>
<h2 id="když-jde-do-tuhého">Když jde do tuhého</h2>
<p>Situace se ovšem zásadně změní, pokud vynecháme procedurální hlasování, kde je obvykle Senát poměrně jednotný, a další nekonfliktní body programu. U padesáti nejtěsnějších hlasování – kde často rozhodl jediný hlas – vypadá graf odlišně.</p>
</div><div class="row-main row-main--article"><div><img src="https://dev.datarozhlas.cz/senat-kdoskym/grafy/kdoskymuzsi2000.png" style="width:100%"></div></div><div class="row-main row-main--narrow">

<p>ANO ve středu grafu naznačuje, že si strana premiéra Andreje Babiše s podporou sociálních demokratů dokáže klíčová hlasování pohlídat. Naopak koalice KDU-ČSL, STAN a liberálních senátorů v těsných hlasováních selhává. Nejednotní jsou zejména senátoři klubu Starostů a nezávislých, jak prozrazuje jejich pozice na okraji grafu.</p>
<p>„Jsme demokratický klub a záleží vždy na senátorovi nebo senátorce, jak se k hlasování postaví, jestli ho třeba přesvědčí zpravodajové nebo řečníci na jednání pléna,“ nabízí pohled do nitra senátního klubu STAN jeho předseda Petr Holeček.</p>
<p>„Hlasování v Senátu a hlasování v Poslanecké sněmovně je o něčem jiném,“ dodává. „Vůbec nechci ostatní senátory ovlivňovat, myslím si, že o tom práce v Senátu a ani v politice není, aby někdo dával nějaké <em>befely</em> <em>(příkazy, z německého der Befehl = rozkaz, pozn. red.)</em>, když se jedná o demokratické a individuální rozhodnutí.“</p>
<p>„Jsme součástí vládní koalice, takže se na návrh zákona díváme v širším kontextu,“ zastává podobný pohled předsedkyně klubu ANO Zdeňka Hamousová. „Ale občas se stane, že s návrhem nesouhlasíme. Hnutí ANO respektuje, že Senát je samostatná komora, takže někdy se stane, že pro vládní návrh zákona nehlasujeme.“</p>
<p>Souhlasí s nimi také křesťanský demokrat Jiří Čunek.</p>
<p>„Podle Ústavy se má každý senátor řídit svým svědomím, o žádném klubu tam nic není,“ souzní. „Samozřejmě s kolegy z klubu, senátory a senátorkami o tom diskutuji, mnohdy řeknu, proč mám své odlišné stanovisko, ale je to tak, že každý senátor má hlasovat hlavně sám za sebe.“</p>
<p>„Ale zase hlasování o jeden hlas, to se snad nikdy nestalo, u zásadních hlasování většinou k nějaké dohodě dojde,“ dodává Čunek.</p>
<p>Detail padesáti nejtěsnějších hlasování za poslední rok nicméně prozrazuje, že o tak výjimečnou situaci nejde. Každý řádek představuje jedno senátní hlasování, každý čtvereček jednoho senátora, barvy odpovídají barvám senátních klubů.</p>
<p>Levá část grafu pak prezentuje vítěznou koalici při daném hlasování; pokud senátoři zákon podpořili, jsou zde hlasy <em>ano</em>. Pokud zamítli, jsou zde hlasy <em>ne</em> a ti, kteří se zdrželi hlasování. V pravém sloupci jsou naopak ti, kteří byli přehlasováni.</p>
</div><div class="row-main row-main--article"><div id="koberec1"></div></div><div class="row-main row-main--narrow">

<p>Senátory STAN nejčastěji najdeme na obou stranách hlasování: část z nich je většinou pro, část proti, málokdy zaujmou jednotnou pozici.</p>
<p>„Disidentství v Senátu ale není tak podstatné, protože na něm nezávisí osud vlády,“ vysvětluje politolog Roman Chytilek z Masarykovy univerzity. „Spíš to naznačuje, že jsou tam senátoři, kteří se nebojí jít proti míněné své strany. Častěji vyjadřují svá osobní přesvědčení. Může to souviset s tím, že volební odvod, ve kterém byli zvoleni, je v některých charakteristikách hodně odlišný od ostatních.“</p>
<p>„Senát má mnohem více času na probírání návrhů zákonů, může se jim věnovat více do hloubky,“ doplňuje ho Kamil Švec. „Tomu odpovídají i senátní diskuze, které jsou méně vyhrocené, méně politické. Nejsou tak rozštěpené podle politického stranictví.“</p>
<p>„Obecně je fungování Senátu víc konsensuální, kompromisní,“ pokračuje Švec. „Poslanecká sněmovna je mnohem více konkurenční. Souvisí to s tím, že vláda je odpovědná právě Poslanecké sněmovně a většina návrhů jsou návrhy vládní.“</p>
<p>„To, že v Senátu nehraje stranická politika takovou roli jako názor jednotlivých senátorů, je podle mě jeho výhoda,“ dodává. „Ostatně dřív byl Senát prezentován jako rada moudrých, sněm politiků, kteří mají nějaké zkušenosti. Proto je taky možné kandidovat až ve čtyřiceti letech. I když připouštím, že pokud senátní kluby nejsou soudržné a nemají jednotný názor, může to někdy zákonům uškodit.“</p>
<p>Menší konkurenčnost Senátu a schopnost senátorů najít kompromis ilustruje graf všech 589 hlasování v Senátu mezi ustavující schůzí 14. listopadu 2018 a dosud posledním zasedáním v polovině minulého prosince. Na rozdíl od Poslanecké sněmovny jsou pro Senát typické velké koalice, kterých se účastní většina stran: znamená to, že v grafu je podstatně zaplněnější levý sloupec, který ukazuje členy vítězné koalice. Naopak pravý sloupec, který shromažďuje poražené senátory, je poloprázdný.</p>
</div><div class="row-main row-main--article"><div id="koberec2"></div></div><div class="row-main row-main--narrow">

		<p class="meta meta--right meta--big">
			<!--[[ZPRAVY_SNOWFALL_AUTHORS:FOOTER]]-->
		</p>
	</div>
	<div class="row-main row-main--narrow">
		<!--[[ZPRAVY_SNOWFALL_KEYWORDS:]]-->
	</div>
	<!--[[ZPRAVY_SNOWFALL_RELATED:ARTICLES]]-->
</div>
<script>/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/script.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/byeie.js":
/*!*********************!*\
  !*** ./js/byeie.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("if (navigator.appName === \"Microsoft Internet Explorer\" || !!(navigator.userAgent.match(/Trident/) || navigator.userAgent.match(/rv:11/))) {\n  var warn = document.createElement(\"div\");\n  warn.innerHTML = \"Používáte zastaralý Internet Explorer, takže vám části tohoto webu nemusí fungovat. Navíc to <a target=\\\"_blank\\\" style=\\\"color:white;\\\" rel=\\\"noopener noreferrer\\\" href=\\\"https://www.zive.cz/clanky/microsoft-internet-explorer-neni-prohlizec-prestante-ho-tak-pouzivat/sc-3-a-197149/default.aspx\\\">není bezpečné</a>, zvažte přechod na <a target=\\\"_blank\\\" style=\\\"color:white;\\\" rel=\\\"noopener noreferrer\\\" href=\\\"https://www.mozilla.org/cs/firefox/new/\\\">jiný prohlížeč</a>.\";\n  warn.style.cssText = \"text-align:center;position:absolute;width:100%;height:auto;opacity:1;z-index:100;background-color:#d52834;top:37px;padding-top:4px;padding-bottom:3px;color:white;\";\n  document.body.appendChild(warn);\n}\n\n//# sourceURL=webpack:///./js/byeie.js?");

/***/ }),

/***/ "./js/script.js":
/*!**********************!*\
  !*** ./js/script.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _byeie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./byeie */ \"./js/byeie.js\");\n/* harmony import */ var _byeie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_byeie__WEBPACK_IMPORTED_MODULE_0__);\n // loučíme se s IE\n\nfetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/vyb_koalice.csv\").then(function (response) {\n  return response.text();\n}).then(function (textkoal) {\n  fetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/vyb_opozice.csv\").then(function (response) {\n    return response.text();\n  }).then(function (textopoz) {\n    fetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/vyb_tooltipy.csv\").then(function (response) {\n      return response.text();\n    }).then(function (tooltipy) {\n      var datakoal = JSON.parse(\"[\" + textkoal + \"]\");\n      var dataopoz = JSON.parse(\"[\" + textopoz + \"]\");\n      var tooltipy = tooltipy.split('\\n');\n      var datatt = [];\n      var headers = tooltipy[0].split('|');\n\n      for (var i = 1; i < tooltipy.length; i++) {\n        var datatemp = tooltipy[i].split('|');\n        var objtemp = {};\n\n        for (var j = 0; j < datatemp.length; j++) {\n          objtemp[headers[j].trim()] = datatemp[j].trim();\n        }\n\n        datatt.push(objtemp);\n      }\n\n      datatt.pop();\n      var square = 6;\n      var config = {\n        width: 81 * square,\n        height: tooltipy.length * square,\n        title: 30,\n        grid: {\n          width: square,\n          height: square\n        },\n        diff: 1,\n        // 1 STAN, 2 ODS, 3 KDU-ČSL + nez., 4 ČSSD, 5 ANO, 6 Senátor 21, 7 nezařazení\n        colors: ['#FFFFFF', '#A8CB4A', '#009BD5', '#FFDA05', '#F29400', '#272660', '#CB2D42', '#A0A0A0']\n      };\n\n      function getPosition(dataIndex) {\n        if (!dataIndex) return {\n          x: 5,\n          y: config.title + 5\n        };\n        var nthColumn = dataIndex % (config.width / config.grid.width),\n            nthRow = Math.floor(dataIndex / (config.height / config.grid.height / (config.height / config.width)));\n        var columnWidth = config.grid.width,\n            rowHeight = config.grid.height;\n        return {\n          x: columnWidth * nthColumn + 5,\n          y: rowHeight * nthRow + config.title + 5\n        };\n      }\n\n      function renderSVG(data, tooltip, box) {\n        var odsunx = 260,\n            odsuny = 2990;\n        var svg = d3.select('#koberec1').append('svg').attr({\n          width: config.width + 5,\n          height: config.height + config.title + 5\n        });\n        var div = d3.select('#koberec1').append('div').attr('class', 'tooltip').style('opacity', 0);\n        svg.selectAll('rect').data(data).enter().append('rect').attr({\n          width: config.grid.width - 1,\n          height: config.grid.height - 1,\n          x: function x(d, i) {\n            return getPosition(i).x;\n          },\n          y: function y(d, i) {\n            return getPosition(i).y;\n          },\n          fill: function fill(d) {\n            return config.colors[d];\n          }\n        });\n        var row = svg.selectAll('row').data(tooltip).enter().append('rect').attr({\n          width: 81 * square + 2,\n          height: 10,\n          x: 3,\n          y: function y(d, i) {\n            return config.grid.height * i + config.title + 3;\n          },\n          fill: '#fff'\n        }).style('fill-opacity', 0).style('opacity', 0).style('stroke', 'black').style('stroke-width', 1);\n        row.on('mouseover', function (d) {\n          div.transition().duration(200).style('opacity', .9);\n          var vysledek;\n\n          if (d.vysledek == 'Přijato') {\n            vysledek = '<div class=\"ttcajk\">Schváleno</div>';\n          } else if (d.vysledek == 'Zamítnuto') {\n            vysledek = '<div class=\"ttnecajk\">Zamítnuto</div>';\n          } else {\n            vysledek = '<div class=\"ttborcus\">Zmatečné</div>';\n          }\n\n          var nazev;\n\n          if (d.nazev.length < 150) {\n            nazev = '<div class=\"ttheader\">' + d.nazev + '</div>';\n          } else {\n            nazev = '<div class=\"ttheader\">' + d.nazev.substring(0, 150).split(' ').slice(0, -1).join(' ') + '…</div>';\n          }\n\n          div.html(nazev + vysledek + '<div class=\"ttvotes\">' + d.kvorum + ' hlasů ke schválení</div>' + '<div class=\"ttvotes\">' + d.pro + ' pro — ' + d.proti + ' proti — ' + d.zdrzeli + ' se zdrželo — ' + d.absence + ' nepřítomných</div>').style('left', d3.event.pageX - odsunx + 20 + 'px').style('top', d3.event.pageY - odsuny + 30 + 'px');\n          d3.select(this).style('fill-opacity', 0.5).style('opacity', 1).transition().duration(200);\n        }).on('mouseout', function (d) {\n          div.transition().duration(500).style('opacity', 0);\n          d3.select(this).style('opacity', 0);\n        });\n        var text = svg.append(\"text\").attr(\"x\", config.width / 3).attr(\"y\", 20).attr(\"text-anchor\", \"middle\").attr(\"class\", \"title\").text(box);\n      }\n\n      renderSVG(datakoal, datatt, 'VÍTĚZOVÉ HLASOVÁNÍ');\n      renderSVG(dataopoz, datatt, 'PORAŽENÍ');\n    });\n  });\n});\nfetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/koalice.csv\").then(function (response) {\n  return response.text();\n}).then(function (textkoal) {\n  fetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/opozice.csv\").then(function (response) {\n    return response.text();\n  }).then(function (textopoz) {\n    fetch(\"dev.datarozhlas.cz/senat-kdoskym/grafy/tooltipy.csv\").then(function (response) {\n      return response.text();\n    }).then(function (tooltipy) {\n      var datakoal = JSON.parse(\"[\" + textkoal + \"]\");\n      var dataopoz = JSON.parse(\"[\" + textopoz + \"]\");\n      var tooltipy = tooltipy.split('\\n');\n      var datatt = [];\n      var headers = tooltipy[0].split('|');\n\n      for (var i = 1; i < tooltipy.length; i++) {\n        var datatemp = tooltipy[i].split('|');\n        var objtemp = {};\n\n        for (var j = 0; j < datatemp.length; j++) {\n          objtemp[headers[j].trim()] = datatemp[j].trim();\n        }\n\n        datatt.push(objtemp);\n      }\n\n      datatt.pop();\n      var square = 6;\n      var config = {\n        width: 81 * square,\n        height: tooltipy.length * square,\n        title: 30,\n        grid: {\n          width: square,\n          height: square\n        },\n        diff: 1,\n        // 1 STAN, 2 ODS, 3 KDU-ČSL + nez., 4 ČSSD, 5 ANO, 6 Senátor 21, 7 nezařazení\n        colors: ['#FFFFFF', '#A8CB4A', '#009BD5', '#FFDA05', '#F29400', '#272660', '#CB2D42', '#A0A0A0']\n      };\n\n      function getPosition(dataIndex) {\n        if (!dataIndex) return {\n          x: 5,\n          y: config.title + 5\n        };\n        var nthColumn = dataIndex % (config.width / config.grid.width),\n            nthRow = Math.floor(dataIndex / (config.height / config.grid.height / (config.height / config.width)));\n        var columnWidth = config.grid.width,\n            rowHeight = config.grid.height;\n        return {\n          x: columnWidth * nthColumn + 5,\n          y: rowHeight * nthRow + config.title + 5\n        };\n      }\n\n      function renderSVG(data, tooltip, box) {\n        var odsunx = 260,\n            odsuny = 900;\n        var svg = d3.select('#koberec2').append('svg').attr({\n          width: config.width + 5,\n          height: config.height + config.title + 5\n        });\n        var div = d3.select('#koberec2').append('div').attr('class', 'tooltip').style('opacity', 0);\n        svg.selectAll('rect').data(data).enter().append('rect').attr({\n          width: config.grid.width - 1,\n          height: config.grid.height - 1,\n          x: function x(d, i) {\n            return getPosition(i).x;\n          },\n          y: function y(d, i) {\n            return getPosition(i).y;\n          },\n          fill: function fill(d) {\n            return config.colors[d];\n          }\n        });\n        var row = svg.selectAll('row').data(tooltip).enter().append('rect').attr({\n          width: 81 * square + 2,\n          height: 10,\n          x: 3,\n          y: function y(d, i) {\n            return config.grid.height * i + config.title + 3;\n          },\n          fill: '#fff'\n        }).style('fill-opacity', 0).style('opacity', 0).style('stroke', 'black').style('stroke-width', 1);\n        row.on('mouseover', function (d) {\n          div.transition().duration(200).style('opacity', .9);\n          var vysledek;\n\n          if (d.vysledek == 'Přijato') {\n            vysledek = '<div class=\"ttcajk\">Schváleno</div>';\n          } else if (d.vysledek == 'Zamítnuto') {\n            vysledek = '<div class=\"ttnecajk\">Zamítnuto</div>';\n          } else {\n            vysledek = '<div class=\"ttborcus\">Zmatečné</div>';\n          }\n\n          var nazev;\n\n          if (d.nazev.length < 150) {\n            nazev = '<div class=\"ttheader\">' + d.nazev + '</div>';\n          } else {\n            nazev = '<div class=\"ttheader\">' + d.nazev.substring(0, 150).split(' ').slice(0, -1).join(' ') + '…</div>';\n          }\n\n          div.html(nazev + vysledek + '<div class=\"ttvotes\">' + d.kvorum + ' hlasů ke schválení</div>' + '<div class=\"ttvotes\">' + d.pro + ' pro — ' + d.proti + ' proti — ' + d.zdrzeli + ' se zdrželo — ' + d.absence + ' nepřítomných</div>').style('left', d3.event.pageX - odsunx + 20 + 'px').style('top', d3.event.pageY - odsuny + 30 + 'px');\n          d3.select(this).style('fill-opacity', 0.5).style('opacity', 1).transition().duration(200);\n        }).on('mouseout', function (d) {\n          div.transition().duration(500).style('opacity', 0);\n          d3.select(this).style('opacity', 0);\n        });\n        var text = svg.append(\"text\").attr(\"x\", config.width / 3).attr(\"y\", 20).attr(\"text-anchor\", \"middle\").attr(\"class\", \"title\").text(box);\n      }\n\n      renderSVG(datakoal, datatt, 'VÍTĚZOVÉ HLASOVÁNÍ');\n      renderSVG(dataopoz, datatt, 'PORAŽENÍ');\n    });\n  });\n});\n\n//# sourceURL=webpack:///./js/script.js?");

/***/ })

/******/ });</script>